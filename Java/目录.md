# Java 程序设计

## 序言-我与Java的Android开发之旅

### 1. 缘起：代码与时光的交织

2011年的某个深夜，我在大学宿舍苦苦的排查 Windows 配置的 Android 开发环境问题，起因是 JDK 环境变量配置中“;”写成了“，”，始终没法在 Android Studio中运行我的第一个 HelloWorld ！焦躁的调试过程让我意识到：Java不仅是Android世界的通行证，更是一把需要精心打磨的瑞士军刀。Java在移动开发的浪潮中始终扮演着“沉默的基石”角色——即便 Kotlin 已成新宠，Flutter、ReactNative等等跨端框架的崛起，纯 Native 的变得越来越少。但是在车机、IoT 方向的发展壮大，Java 开发任然占据重要的角色。

### 2. 为什么写这本书？

在辅导团队新人时，我常遇到两类困惑：

- “我读过很多 Java 相关书籍，却看不懂ArrayMap的哈希冲突优化”
- “我知道 volatile 关键字，但面对DCL单例失效时依然手足无措”

这让我意识到：传统 Java 教程与 Android 生产实践之间存在一道隐形的鸿沟。本书不是又一本语法手册，而是一张从语言特性到工业级代码的路线图：
  
- 如何让WeakReference在图片缓存中精准控制内存边界？
- 为何ConcurrentHashMap的分段锁在低端设备上会引发UI卡顿？
- 从Java 8 Stream API到RxJava响应式编程的思维跃迁...

这些在Stack Overflow找不到标准答案的“灰色知识”，正是本书试图串联的珍珠。

## 一、Java 基础语法

### 1. 基础语法与数据类型

#### 1.1 基本数据类型（int, double, boolean等）

- **int**
int 类型使用 32 位来存储数据，其中 1 位用于表示符号（正数或负数），剩余 31 位用于表示数值。
应用场景：
int 是最常用的整数类型，适用于大多数需要存储整数值的场景。如果需要更大的范围，可以使用 long 类型；如果需要更小的范围以节省内存，可以使用 short 或 byte。
取值范围：
由于是 32 位有符号整数，int 的取值范围为：-2,147,483,648（-2 的31次方） 到 2,147,483,647（+2的31次方）。

类型	大小（位）	取值范围
byte	8	-128 到 127
short	16	-32,768 到 32,767
int	32	-2,147,483,648 到 2,147,483,647
long	64	-9,223,372,036,854,775,808 到 9,223,372,036,854,775,807

#### 1.2 引用数据类型（类、数组、接口等）

#### 1.3 变量与常量（final关键字）

#### 1.4 类型转换（自动转换、强制转换）

### 2.运算符（算术、逻辑、位运算等）

#### 2.1 流程控制

#### 2.2 条件语句（if-else, switch-case）

#### 2.3 循环语句（for, while, do-while）

#### 2.4 跳转语句（break, continue, return）

### 3.字符串处理

#### 3.1 String、StringBuffer、StringBuilder的区别

#### 3.2 字符串操作方法（substring, split, replace等）

#### 3.3 字符串常量池与不可变性

### 4.数组与集合

#### 4.1 数组的定义与遍历

#### 4.2 集合框架（List, Set, Map, Queue）

#### 4.3 ArrayList vs LinkedList

#### 4.4 HashMap vs TreeMap vs LinkedHashMap

#### 4.5 线程安全集合（ConcurrentHashMap, CopyOnWriteArrayList）

## 二、面向对象编程（OOP）

### 1.类与对象

#### 类的定义与实例化

#### 构造方法与初始化块

#### 成员变量与局部变量

### 2.继承与多态

#### 继承（extends关键字）

#### 方法重写（@Override）

#### 多态的实现（父类引用指向子类对象）

### 3.抽象类与接口

#### 抽象类（abstract class）

#### 接口（interface）

#### 默认方法与静态方法（Java 8+）

### 4.封装与访问控制

#### 访问修饰符（public, protected, private, default）

#### Getter 和 Setter 方法

### 5.其他特性

#### 内部类（成员内部类、匿名内部类、静态内部类）

#### 枚举类（enum）

#### 注解（@Override, @Deprecated, 自定义注解）

## 三、Java 高级特性

### 1.泛型（Generics）

#### 泛型类、泛型方法

#### 类型擦除与通配符（?, extends, super）

### 2.反射（Reflection）

#### 获取类信息（Class, Method, Field）

#### 动态创建对象与调用方法

### 3.异常处理

#### 异常分类（Exception vs Error）

#### try-catch-finally

#### 自定义异常

### 4.IO 与 NIO

#### 字节流与字符流（InputStream, Reader）

#### 文件操作（File类）

#### NIO 核心组件（Channel, Buffer, Selector）

### 5.序列化与反序列化

#### Serializable接口

#### transient关键字

#### 自定义序列化策略

## 四、并发编程

### 1.线程基础

#### 线程的创建（Thread, Runnable, Callable）

#### 线程生命周期（新建、就绪、运行、阻塞、终止）

### 2.线程同步与通信

#### synchronized关键字

#### Lock接口与ReentrantLock

#### volatile关键字

#### 等待/通知机制（wait(), notify()）

### 3.线程池

#### ExecutorService框架

#### 线程池类型（FixedThreadPool, CachedThreadPool等）

#### 线程池参数与拒绝策略

### 4.并发工具类

#### CountDownLatch

#### CyclicBarrier

#### Semaphore

#### BlockingQueue

## 五、JVM 与性能优化

### 1.JVM 内存模型

#### 堆（Heap）与栈（Stack）

#### 方法区（元空间）、本地方法栈、程序计数器

### 2.垃圾回收（GC）

#### GC 算法（标记-清除、复制、分代收集）

#### GC 器（Serial、Parallel、CMS、G1、ZGC）

#### 内存泄漏与排查工具（jmap, jstack, VisualVM）

### 3.性能调优

#### JVM 参数调优（-Xms, -Xmx, -XX:NewRatio）

#### 代码优化（减少对象创建、避免频繁 GC）

## 六、Java 8+ 新特性

### 1. Lambda 表达式

#### 语法与函数式接口（@FunctionalInterface）

### 2.Stream API

#### 流的创建与操作（filter, map, reduce）

#### 并行流与性能优化

### 3.新时间日期 API

#### LocalDate, LocalTime, LocalDateTime

### 4.模块化系统（Java 9）

#### module-info.java与模块依赖

### 5.其他改进

#### Optional类

#### 接口的私有方法（Java 9）

#### var关键字（Java 10 局部变量类型推断）

## 七、设计模式

### 1.创建型模式

#### 单例模式（饿汉式、懒汉式、双重检查锁）

#### 工厂模式（简单工厂、抽象工厂）

#### 建造者模式

#### 结构型模式

#### 适配器模式

#### 代理模式（静态代理、动态代理）

#### 装饰器模式

#### 行为型模式

#### 观察者模式

#### 策略模式

#### 责任链模式

## 八、常用工具与框架

### 1.单元测试

#### JUnit 5

### Mockito

### 2.构建工具

#### Maven

#### Gradle

## 九、扩展知识

### 1.网络编程

#### TCP/UDP 通信

#### HTTP 客户端（HttpURLConnection, OkHttp）

### 2.数据库连接

#### JDBC 基础

#### 连接池（HikariCP, Druid）

#### ORM（Hibernate, MyBatis）

### 3.安全与加密

#### 对称加密（AES）与非对称加密（RSA）

#### 数字签名与证书

## 十、实战与调试

### 1.代码调试

#### 使用 IDE 调试（断点、条件断点、堆栈跟踪）

#### 日志调试与异常捕获

### 2.代码规范

### 3.命名规范

### 4.注释与文档（Javadoc）

### 5.常见问题排查

#### NullPointerException

#### 死锁与线程阻塞

#### 内存溢出（OOM）
