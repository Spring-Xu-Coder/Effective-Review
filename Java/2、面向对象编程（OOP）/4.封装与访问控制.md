# å°è£…ä¸è®¿é—®æ§åˆ¶

**å°è£…ï¼ˆEncapsulationï¼‰** å’Œ **è®¿é—®æ§åˆ¶ï¼ˆAccess Controlï¼‰** æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ ¸å¿ƒæ¦‚å¿µã€‚å®ƒä»¬æœ‰åŠ©äºä¿æŠ¤æ•°æ®çš„å®‰å…¨æ€§ã€æé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œçµæ´»æ€§ã€‚é€šè¿‡åˆç†ä½¿ç”¨å°è£…å’Œè®¿é—®æ§åˆ¶ï¼Œå¯ä»¥æœ‰æ•ˆåœ°ç®¡ç†ç±»çš„å†…éƒ¨çŠ¶æ€å’Œè¡Œä¸ºã€‚

## ä¸€ã€å°è£…ï¼ˆEncapsulationï¼‰

### 1. å®šä¹‰

- **å°è£…** æ˜¯å°†å¯¹è±¡çš„çŠ¶æ€ä¿¡æ¯ï¼ˆå­—æ®µï¼‰éšè—åœ¨å¯¹è±¡å†…éƒ¨ï¼Œå¹¶é€šè¿‡å…¬å…±æ–¹æ³•ï¼ˆgetter å’Œ setter æ–¹æ³•ï¼‰æ¥è®¿é—®å’Œä¿®æ”¹è¿™äº›çŠ¶æ€ä¿¡æ¯ã€‚
- å°è£…çš„ä¸»è¦ç›®çš„æ˜¯ç¡®ä¿å¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ä¸ä¼šè¢«å¤–éƒ¨ç›´æ¥è®¿é—®æˆ–ä¿®æ”¹ï¼Œä»è€Œæé«˜æ•°æ®çš„å®‰å…¨æ€§å’Œå®Œæ•´æ€§ã€‚

### 2. å®ç°å°è£…çš„æ­¥éª¤

1. **ç§æœ‰åŒ–å­—æ®µ**ï¼šä½¿ç”¨ `private` å…³é”®å­—å°†å­—æ®µå£°æ˜ä¸ºç§æœ‰çš„ï¼Œé˜²æ­¢å¤–éƒ¨ç›´æ¥è®¿é—®ã€‚
2. **æä¾›å…¬å…±æ–¹æ³•**ï¼šé€šè¿‡ `getter` å’Œ `setter` æ–¹æ³•æ¥è®¿é—®å’Œä¿®æ”¹ç§æœ‰å­—æ®µã€‚

#### ç¤ºä¾‹
```java
public class Person {
    // ç§æœ‰å­—æ®µ
    private String name;
    private int age;

    // getter æ–¹æ³•
    public String getName() {
        return name;
    }

    // setter æ–¹æ³•
    public void setName(String name) {
        this.name = name;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        if (age > 0) { // æ•°æ®éªŒè¯
            this.age = age;
        }
    }
}
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`name` å’Œ `age` å­—æ®µæ˜¯ç§æœ‰çš„ï¼Œä¸èƒ½ä»ç±»çš„å¤–éƒ¨ç›´æ¥è®¿é—®ã€‚é€šè¿‡ `getName()` å’Œ `setName()` æ–¹æ³•å¯ä»¥å®‰å…¨åœ°è®¿é—®å’Œä¿®æ”¹ `name` å­—æ®µï¼Œé€šè¿‡ `getAge()` å’Œ `setAge()` æ–¹æ³•å¯ä»¥è®¿é—®å’Œä¿®æ”¹ `age` å­—æ®µï¼Œå¹¶ä¸”åœ¨ `setAge()` æ–¹æ³•ä¸­è¿›è¡Œäº†ç®€å•çš„æ•°æ®éªŒè¯ã€‚

## äºŒã€è®¿é—®æ§åˆ¶ï¼ˆAccess Controlï¼‰

Java æä¾›äº†å››ç§è®¿é—®ä¿®é¥°ç¬¦æ¥æ§åˆ¶ç±»ã€å­—æ®µã€æ–¹æ³•å’Œæ„é€ å™¨çš„å¯è§æ€§ï¼š

1. **`private`**
2. **`default`ï¼ˆåŒ…çº§ç§æœ‰ï¼‰**
3. **`protected`**
4. **`public`**

### 1. `private`

- **ä½œç”¨èŒƒå›´**ï¼šä»…åœ¨å£°æ˜å®ƒçš„ç±»å†…éƒ¨å¯è§ã€‚
- **ç”¨é€”**ï¼šç”¨äºéšè—ç±»çš„å†…éƒ¨å®ç°ç»†èŠ‚ï¼Œç¡®ä¿å¤–éƒ¨æ— æ³•ç›´æ¥è®¿é—®æˆ–ä¿®æ”¹å­—æ®µæˆ–æ–¹æ³•ã€‚

#### ç¤ºä¾‹
```java
public class Person {
    private String name;

    private void printName() {
        System.out.println("Name: " + name);
    }
}
```
åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ`name` å­—æ®µå’Œ `printName()` æ–¹æ³•åªèƒ½åœ¨ `Person` ç±»å†…éƒ¨è®¿é—®ã€‚

### 2. `default`ï¼ˆåŒ…çº§ç§æœ‰ï¼‰

- **ä½œç”¨èŒƒå›´**ï¼šæ²¡æœ‰æ˜¾å¼æŒ‡å®šè®¿é—®ä¿®é¥°ç¬¦æ—¶ï¼Œé»˜è®¤ä¸ºåŒ…çº§ç§æœ‰ï¼Œå³åŒä¸€ä¸ªåŒ…å†…çš„ç±»å¯ä»¥è®¿é—®ã€‚
- **ç”¨é€”**ï¼šé€‚ç”¨äºå¸Œæœ›é™åˆ¶è®¿é—®åˆ°åŒä¸€åŒ…å†…çš„å…¶ä»–ç±»çš„æƒ…å†µã€‚

#### ç¤ºä¾‹
```java
class Person {
    String name; // é»˜è®¤è®¿é—®çº§åˆ«

    void printName() {
        System.out.println("Name: " + name);
    }
}
```
åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ`name` å­—æ®µå’Œ `printName()` æ–¹æ³•åœ¨åŒä¸€åŒ…å†…çš„å…¶ä»–ç±»ä¸­å¯ä»¥è®¿é—®ã€‚

### 3. `protected`

- **ä½œç”¨èŒƒå›´**ï¼šåœ¨åŒä¸€åŒ…å†…çš„ç±»å’Œæ‰€æœ‰å­ç±»ä¸­å¯è§ï¼Œå³ä½¿å­ç±»ä¸åœ¨åŒä¸€ä¸ªåŒ…å†…ä¹Ÿå¯ä»¥è®¿é—®ã€‚
- **ç”¨é€”**ï¼šé€‚ç”¨äºå¸Œæœ›å…è®¸å­ç±»è®¿é—®çˆ¶ç±»çš„æŸäº›æˆå‘˜çš„æƒ…å†µã€‚

#### ç¤ºä¾‹
```java
public class Person {
    protected String name;

    protected void printName() {
        System.out.println("Name: " + name);
    }
}

class Employee extends Person {
    public void showDetails() {
        System.out.println("Employee Name: " + name); // å¯ä»¥è®¿é—®çˆ¶ç±»çš„ protected å­—æ®µ
        printName(); // å¯ä»¥è°ƒç”¨çˆ¶ç±»çš„ protected æ–¹æ³•
    }
}
```
åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ`Employee` ç±»å¯ä»¥è®¿é—® `Person` ç±»ä¸­çš„ `name` å­—æ®µå’Œ `printName()` æ–¹æ³•ã€‚

### 4. `public`

- **ä½œç”¨èŒƒå›´**ï¼šåœ¨ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥è®¿é—®ã€‚
- **ç”¨é€”**ï¼šé€‚ç”¨äºå¸Œæœ›å…¬å¼€ç±»ã€å­—æ®µæˆ–æ–¹æ³•çš„æƒ…å†µã€‚

#### ç¤ºä¾‹
```java
public class Person {
    public String name;

    public void printName() {
        System.out.println("Name: " + name);
    }
}
```
åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ`name` å­—æ®µå’Œ `printName()` æ–¹æ³•å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è®¿é—®ã€‚

## ä¸‰ã€å°è£…ä¸è®¿é—®æ§åˆ¶çš„å®é™…åº”ç”¨

### 1. æ•°æ®éªŒè¯

é€šè¿‡å°è£…ï¼Œå¯ä»¥åœ¨ `setter` æ–¹æ³•ä¸­è¿›è¡Œæ•°æ®éªŒè¯ï¼Œç¡®ä¿è¾“å…¥çš„æ•°æ®ç¬¦åˆé¢„æœŸã€‚

#### ç¤ºä¾‹
```java
public class Person {
    private String name;
    private int age;

    public void setName(String name) {
        if (name != null && !name.isEmpty()) {
            this.name = name;
        } else {
            System.out.println("Invalid name");
        }
    }

    public void setAge(int age) {
        if (age > 0 && age < 120) {
            this.age = age;
        } else {
            System.out.println("Invalid age");
        }
    }
}
```

### 2. éšè—å®ç°ç»†èŠ‚

é€šè¿‡å°è£…ï¼Œå¯ä»¥éšè—ç±»çš„å†…éƒ¨å®ç°ç»†èŠ‚ï¼Œä½¿å¾—å¤–éƒ¨åªèƒ½é€šè¿‡å…¬å…±æ¥å£ä¸ç±»äº¤äº’ï¼Œä¾¿äºåç»­ä¿®æ”¹å’Œæ‰©å±•ã€‚

#### ç¤ºä¾‹
```java
public class BankAccount {
    private double balance;

    public BankAccount(double initialBalance) {
        if (initialBalance > 0.0) {
            balance = initialBalance;
        }
    }

    public void deposit(double amount) {
        if (amount > 0) {
            balance += amount;
        }
    }

    public void withdraw(double amount) {
        if (amount > 0 && amount <= balance) {
            balance -= amount;
        }
    }

    public double getBalance() {
        return balance;
    }
}
```
åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`balance` å­—æ®µæ˜¯ç§æœ‰çš„ï¼Œå¤–éƒ¨åªèƒ½é€šè¿‡ `deposit()`, `withdraw()` å’Œ `getBalance()` æ–¹æ³•æ¥æ“ä½œè´¦æˆ·ä½™é¢ï¼Œç¡®ä¿äº†æ•°æ®çš„å®‰å…¨æ€§å’Œä¸€è‡´æ€§ã€‚

### 3. æ§åˆ¶ç±»çš„å¯è§æ€§

é€šè¿‡è®¿é—®æ§åˆ¶ï¼Œå¯ä»¥æ§åˆ¶ç±»çš„å¯è§æ€§ï¼Œå†³å®šå“ªäº›ç±»å¯ä»¥è®¿é—®å’Œä½¿ç”¨è¯¥ç±»ã€‚

#### ç¤ºä¾‹
```java
// åŒ… com.example.bank
package com.example.bank;

public class Account {
    private double balance;

    public Account(double initialBalance) {
        if (initialBalance > 0.0) {
            balance = initialBalance;
        }
    }

    public void deposit(double amount) {
        if (amount > 0) {
            balance += amount;
        }
    }

    public void withdraw(double amount) {
        if (amount > 0 && amount <= balance) {
            balance -= amount;
        }
    }

    public double getBalance() {
        return balance;
    }
}

// åŒ… com.example.user
package com.example.user;

import com.example.bank.Account;

public class User {
    public static void main(String[] args) {
        Account account = new Account(1000.0);
        account.deposit(500.0);
        account.withdraw(200.0);
        System.out.println("Current Balance: " + account.getBalance());
    }
}
```
åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`Account` ç±»ä½äº `com.example.bank` åŒ…ä¸­ï¼Œ`User` ç±»ä½äº `com.example.user` åŒ…ä¸­ã€‚ç”±äº `Account` ç±»çš„å­—æ®µæ˜¯ç§æœ‰çš„ï¼Œå¹¶ä¸”æä¾›äº†å…¬å…±çš„æ–¹æ³•ï¼Œå› æ­¤ `User` ç±»å¯ä»¥é€šè¿‡è¿™äº›å…¬å…±æ–¹æ³•æ¥æ“ä½œè´¦æˆ·ã€‚

## å››ã€æ€»ç»“

- **å°è£…** æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„é‡è¦ç‰¹æ€§ä¹‹ä¸€ï¼Œé€šè¿‡éšè—å¯¹è±¡çš„å†…éƒ¨å®ç°ç»†èŠ‚ï¼Œåªæš´éœ²å¿…è¦çš„æ¥å£æ¥è®¿é—®å’Œä¿®æ”¹å¯¹è±¡çš„çŠ¶æ€ã€‚
- **è®¿é—®æ§åˆ¶** æä¾›äº†ä¸åŒçš„è®¿é—®ä¿®é¥°ç¬¦ï¼ˆ`private`, `default`, `protected`, `public`ï¼‰ï¼Œå¸®åŠ©å¼€å‘è€…æ§åˆ¶ç±»ã€å­—æ®µã€æ–¹æ³•å’Œæ„é€ å™¨çš„å¯è§æ€§å’Œè®¿é—®æƒé™ã€‚

é€šè¿‡åˆç†ä½¿ç”¨å°è£…å’Œè®¿é—®æ§åˆ¶ï¼Œå¯ä»¥ç¼–å†™å‡ºæ›´åŠ æ¨¡å—åŒ–ã€å¯ç»´æŠ¤å’Œçµæ´»çš„ Java ç¨‹åºã€‚å¦‚æœä½ æœ‰ä»»ä½•è¿›ä¸€æ­¥çš„é—®é¢˜æˆ–éœ€è¦æ›´å¤šç¤ºä¾‹ï¼Œè¯·éšæ—¶æé—®ï¼ ğŸ˜Š

---