# CPU 性能优化实战

## Camera 相关优化

### YUV 传输 0 拷贝方案

1. 分配内存共享缓存区

2. Camera 层编码后直接使用mmap 内存映射

3. 传输过程中使用FD，数据直接给到目标进程后读取数据

### 降 YUV 帧率

直接底层编码前确定上次使用的帧率，按需返回帧率。

### 硬编

### 功能复用

1. 音频编码复用，视频录制和音频录制同时进行时，音频编码复用，减少编码时间

### 功能裁剪
1. 流裁剪：优化底层服务，不需要预览流时关闭预览流


### 能力下沉

1. 录制功能下沉到 Camera 层，减少录制流传输到应用层的开销

2. 加密功能下沉，录制过程中帧数据加密，减少 IO 开销


## 